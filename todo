- implement check
- make caller depth modifiable
- move testmain to the module
